<!DOCTYPE html>
<html lang="en" ng-app="patterns">
	<head>
		<title>Memento Pattern</title>

		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

		

		<script src="js/app.js"></script>

		<script src="js/services.js"></script>
		<script src="js/directives.js"></script>
		<script src="js/controllers.js"></script>
		
	</head>
	<body class="container">
		<div ng-controller="mainCtrl as vm">
			<h1>{{vm.title}}</h1>
			<p>
				The memento pattern can be utilized to save the state of a specific item and restore it to that given state.
			</p>

			<p>
				A user can change the saved state for the profile at any given time, and restore it back to that state. This pattern can be applied to a variety of scenarios including having the 'Reset Defaults' for application settings, user profile settings, or item settings.
			</p>

			<p>
				This can be further extended, by even adding a default state property for the object prototype, and supplying a setDefault boolean to the hydrate function, thus storing a default case for the object, and allowing the user to completely restore to this state, while allowing a snapshot ability still.
			</p>

			<div class="col-md-4" ng-repeat="user in vm.users">
				<div class="well">
					<span class="fa fa-user fa-2x pull-left"></span>
					<dl class="dl-horizontal pull-left">
						<dt>Name:</dt> 
						<dd>{{user.name}}</dd>
						<dt>Age:</dt> 
						<dd>{{user.age}}</dd>
						<dt>State Stored:</dt>
						<dd><span class="fa fa-circle" ng-class="{'text-success': user.memento}"></span></dd>
					</dl>
					<div class="pull-right">
						<button class="btn btn-primary" ng-click="vm.randomAge(user)">Random Age</button>
						<button class="btn btn-warning" ng-click="vm.restoreState(user)" ng-disabled="!user.memento">Restore</button>
						<button class="btn btn-default" ng-click="vm.setState(user)">Set</button>
					</div>
					<div class="clearfix"></div>
				</div>
			</div>

		</div>
	</body>
</html>